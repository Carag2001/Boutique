<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>FiveM - Scripts</title>

<style>
/* RESET */
* { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
html, body {height:100%;}

/* FOND */
body {
    background: url('https://img.freepik.com/photos-premium/fond-neon-futuriste_1048-12604.jpg')
        no-repeat center center fixed;
    background-size: cover;
    color: #fff;
    position: relative;
}
body::before {
    content:'';
    position:fixed;
    inset:0;
    background: rgba(0,0,0,0.55);
    z-index:0;
}

/* NAVBAR */
.navbar {
    position:fixed;
    top:0;
    width:100%;
    z-index:1000;
    background: rgba(0,0,0,0.75);
    backdrop-filter: blur(6px);
}
.navbar ul {
    list-style:none;
    display:flex;
    justify-content:center;
    align-items:center;
    height:65px;
}
.navbar li { margin:0 18px; }
.navbar a {
    color:#fff;
    text-decoration:none;
    font-weight:600;
    position:relative;
}
.navbar a::after {
    content:'';
    position:absolute;
    bottom:-5px;
    left:0;
    width:0;
    height:2px;
    background:#fff;
    transition:0.3s;
}
.navbar a:hover::after { width:100%; }

/* CONTENU */
.main-content {
    position:relative;
    z-index:1;
    padding:140px 20px 60px;
    text-align:center;
}
.main-content h1 { font-size:3rem; margin-bottom:15px; }
.main-content p { font-size:1.1rem; opacity:0.9; margin-bottom:40px; }

/* SOUS-CATEGORIES */
.subcategories {
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:25px;
    margin-bottom:40px;
}
.subcategory-btn {
    padding:12px 25px;
    border-radius:25px;
    border:none;
    background: rgba(0,188,212,0.8);
    color:#fff;
    font-weight:bold;
    cursor:pointer;
    transition:0.3s;
}
.subcategory-btn:hover { background:#00e5ff; transform:scale(1.05); }

/* CARDS SCRIPTS */
.resources {
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:30px;
}
.resource-card {
    width:260px;
    padding:25px;
    background: rgba(255,255,255,0.08);
    border-radius:18px;
    border:1px solid rgba(255,255,255,0.4);
    backdrop-filter:blur(6px);
    box-shadow:0 12px 25px rgba(0,0,0,0.6);
    transition:0.3s;
    position:relative;
}
.resource-card:hover {
    transform:translateY(-8px) scale(1.05);
    box-shadow:0 0 30px rgba(0,229,255,0.6);
}
.resource-card h3 { margin-bottom:8px; }
.resource-card p { font-size:0.95rem; margin-bottom:10px; }
.resource-card span { font-weight:bold; color:#00e5ff; display:block; margin-bottom:8px; }
.resource-card button, .resource-card a {
    padding:8px 15px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-weight:bold;
    color:#fff;
    background: linear-gradient(135deg,#00e5ff,#0066ff);
    text-decoration:none;
    transition:0.3s;
}
.resource-card button:hover, .resource-card a:hover { transform:scale(1.05); }

/* DELETE BUTTON */
.delete-btn {
    display:none;
    position:absolute;
    top:10px;
    right:10px;
    background:#ff3b3b;
    border:none;
    color:#fff;
    padding:5px 8px;
    border-radius:6px;
    cursor:pointer;
}

/* ADMIN FORM */
.admin-form {
    display:none;
    margin:30px auto;
    max-width:350px;
    background: rgba(0,0,0,0.6);
    padding:20px;
    border-radius:15px;
}
.admin-form input, .admin-form textarea, .admin-form select {
    width:100%;
    margin-bottom:10px;
    padding:8px;
    border-radius:6px;
    border:none;
}
.admin-form button {
    width:100%;
    padding:10px;
    border-radius:20px;
    border:none;
    background:#00e5ff;
    font-weight:bold;
    cursor:pointer;
}
.admin-form button:hover { background:#00bcd4; }

/* RESPONSIVE */
@media(max-width:768px){
    .resource-card { width:85%; }
}
</style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar">
    <ul>
        <li><a href="index.html">Accueil</a></li>
        <li><a href="presentation.html">Présentation</a></li>
        <li><a href="fivem.html">FiveM</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="apropos.html">À propos</a></li>
    </ul>
</nav>

<section class="main-content">
    <h1>Scripts FiveM</h1>
    <p>Choisissez une sous-catégorie pour afficher les scripts correspondants.</p>

    <!-- SOUS-CATEGORIES -->
    <div class="subcategories">
        <button class="subcategory-btn" onclick="showCategory('police')">Police</button>
        <button class="subcategory-btn" onclick="showCategory('urgence')">Urgence</button>
        <button class="subcategory-btn" onclick="showCategory('gouvernement')">Gouvernement</button>
        <button class="subcategory-btn" onclick="showCategory('civils')">Civils</button>
    </div>

    <!-- RESSOURCES -->
    <div class="resources" id="resourcesContainer"></div>

    <!-- BOUTON ADMIN -->
    <button class="subcategory-btn" style="margin-top:30px;" onclick="askPassword()">Ajouter un script</button>

    <!-- FORMULAIRE ADMIN -->
    <div class="admin-form" id="adminForm">
        <input id="resName" placeholder="Nom du script">
        <textarea id="resDesc" placeholder="Description"></textarea>
        <input id="resPrice" placeholder="Prix (0 = gratuit)">
        <input id="resLink" placeholder="Lien de téléchargement (si gratuit)">
        <select id="resCategory">
            <option value="police">Police</option>
            <option value="urgence">Urgence</option>
            <option value="gouvernement">Gouvernement</option>
            <option value="civils">Civils</option>
        </select>
        <button onclick="addResource()">Ajouter</button>
    </div>
</section>

<script>
const PASSWORD = "Maholo_56100";
let isAdmin = false;
let currentCategory = "police";
let resources = JSON.parse(localStorage.getItem("scriptResources")) || [];

function showCategory(cat){
    currentCategory = cat;
    renderResources();
}

function renderResources(){
    const container = document.getElementById("resourcesContainer");
    container.innerHTML = "";
    resources.filter(r => r.category === currentCategory).forEach((r,i)=>{
        const div = document.createElement("div");
        div.className="resource-card";
        div.innerHTML = `
            <button class="delete-btn" onclick="removeResource(${i})">✖</button>
            <h3>${r.name}</h3>
            <p>${r.desc}</p>
            <span>${r.price==0 ? "Gratuit" : r.price+"€"}</span>
            ${r.price==0 ? `<a href="${r.link}" target="_blank">Télécharger</a>` : ""}
        `;
        if(isAdmin) div.querySelector(".delete-btn").style.display="block";
        container.appendChild(div);
    });
}

// ADMIN
function askPassword(){
    const pass = prompt("Mot de passe admin :");
    if(pass===PASSWORD){
        isAdmin=true;
        document.getElementById("adminForm").style.display="block";
        renderResources();
    } else { alert("Mot de passe incorrect"); }
}

function addResource(){
    const r={
        name: resName.value,
        desc: resDesc.value,
        price: Number(resPrice.value),
        link: resLink.value,
        category: resCategory.value
    };
    if(!r.name || !r.desc || r.price==="" || (r.price===0 && !r.link)) return alert("Remplir tous les champs correctement");
    resources.push(r);
    localStorage.setItem("scriptResources",JSON.stringify(resources));
    renderResources();
}

function removeResource(i){
    if(confirm("Supprimer ce script ?")){
        resources.splice(i,1);
        localStorage.setItem("scriptResources",JSON.stringify(resources));
        renderResources();
    }
}

renderResources();
</script>

</body>
</html>
