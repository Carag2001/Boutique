<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Dauber Services - FiveM</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
body { background:#111; color:#fff; min-height:100vh; padding-top:80px; }
.navbar { position:fixed; top:0; width:100%; background:rgba(0,0,0,0.8); z-index:1000; display:flex; justify-content:center; padding:15px 0; }
.navbar ul { list-style:none; display:flex; gap:20px; }
.navbar a { color:#fff; text-decoration:none; font-weight:600; position:relative; }
.navbar a::after { content:''; position:absolute; bottom:-3px; left:0; width:0; height:2px; background:#00e5ff; transition:0.3s; }
.navbar a:hover::after { width:100%; }

.main-content { max-width:1200px; margin:auto; padding:20px; }
h1,h2,h3 { margin-bottom:15px; }
h1 { font-size:2.8rem; text-align:center; }
h2 { margin-top:40px; color:#00e5ff; }
h3 { margin-bottom:8px; }

.category, .sub-category { margin-bottom:25px; }
.item-card { background:rgba(255,255,255,0.08); padding:15px; border-radius:12px; margin-bottom:10px; border:1px solid rgba(0,229,255,0.3); display:flex; flex-direction:column; gap:5px; }
.item-card:hover { transform:scale(1.03); box-shadow:0 0 15px #00e5ff; }
.item-card button { align-self:flex-start; padding:5px 10px; border:none; border-radius:6px; cursor:pointer; background:#ff3b3b; color:#fff; display:none; }
.item-card a { align-self:flex-start; padding:5px 10px; border-radius:6px; background:#00e5ff; color:#111; text-decoration:none; font-weight:600; display:none; }

.admin-btn { display:block; margin:20px auto; padding:10px 20px; background:#00e5ff; color:#111; border:none; border-radius:20px; cursor:pointer; font-weight:600; }
.admin-form { display:none; max-width:400px; margin:20px auto; background:rgba(0,0,0,0.6); padding:20px; border-radius:12px; }
.admin-form input, .admin-form select, .admin-form textarea, .admin-form button { width:100%; margin-bottom:10px; padding:8px; border-radius:6px; border:none; }
.admin-form button { background:#00e5ff; color:#111; font-weight:600; cursor:pointer; }

@media(max-width:768px){ .navbar ul { flex-direction:column; gap:10px; } }
</style>
</head>
<body>

<nav class="navbar">
<ul>
<li><a href="index.html">Accueil</a></li>
<li><a href="presentation.html">Présentation</a></li>
<li><a href="boutique.html">Boutique</a></li>
<li><a href="offre.html">Offre</a></li>
<li><a href="contact.html">Contact</a></li>
<li><a href="apropos.html">À propos</a></li>
<li><a href="fivem.html">FiveM</a></li>
</ul>
</nav>

<section class="main-content">
<h1>Catégorie FiveM</h1>

<div id="container"></div>

<button class="admin-btn" onclick="askPassword()">Ajouter un item</button>

<div class="admin-form" id="adminForm">
<input id="name" placeholder="Nom de l'item">
<select id="category">
  <option value="Scripts">Scripts</option>
  <option value="Mappings">Mappings</option>
  <option value="Voitures">Voitures</option>
</select>
<select id="subCategory">
  <option value="Police">Police</option>
  <option value="Urgence">Urgence</option>
  <option value="Gouvernement">Gouvernement</option>
  <option value="Civils">Civils</option>
  <option value="Sport">Sport</option>
  <option value="Utilitaires">Utilitaires</option>
</select>
<select id="type">
  <option value="Gratuit">Gratuit</option>
  <option value="Payant">Payant</option>
</select>
<input id="price" placeholder="Prix si payant (ex: 5€)">
<input id="link" placeholder="Lien téléchargement si gratuit">
<button onclick="addItem()">Ajouter</button>
</div>
</section>

<script>
const PASSWORD = "Maholo_56100";
let isAdmin = false;

let items = JSON.parse(localStorage.getItem("fivemItems")) || [
  {name:"", category:"Scripts", subCategory:"Police", type:"", price:"", link:""},
  {name:"", category:"Mappings", subCategory:"Gouvernement", type:"", price:"", link:""},
  {name:"", category:"Voitures", subCategory:"Sport", type:"", price:"", link:""}
];

const container = document.getElementById("container");

function render(){
  container.innerHTML = "";
  const categories = [...new Set(items.map(i=>i.category))];
  categories.forEach(cat=>{
    const catDiv = document.createElement("div");
    catDiv.className="category";
    const h2 = document.createElement("h2"); h2.textContent=cat; catDiv.appendChild(h2);
    
    const subCats = [...new Set(items.filter(i=>i.category===cat).map(i=>i.subCategory))];
    subCats.forEach(sub=>{
      const subDiv = document.createElement("div");
      subDiv.className="sub-category";
      const h3 = document.createElement("h3"); h3.textContent=sub; subDiv.appendChild(h3);
      
      items.filter(i=>i.category===cat && i.subCategory===sub).forEach((item,iIndex)=>{
        if(!item.name) return;
        const div = document.createElement("div");
        div.className="item-card";
        div.innerHTML = `
          <strong>${item.name}</strong>
          <p>Type: ${item.type}${item.type==="Payant"?" - Prix: "+item.price:""}</p>
          <a href="${item.link}" target="_blank">Télécharger</a>
          <button onclick="removeItem(${items.indexOf(item)})">Supprimer</button>
        `;
        if(item.type==="Gratuit") div.querySelector("a").style.display="inline-block";
        if(isAdmin) div.querySelector("button").style.display="inline-block";
        subDiv.appendChild(div);
      });
      catDiv.appendChild(subDiv);
    });
    container.appendChild(catDiv);
  });
}

function askPassword(){
  const pass = prompt("Mot de passe admin :");
  if(pass===PASSWORD){ isAdmin=true; document.getElementById("adminForm").style.display="block"; render(); }
  else alert("Mot de passe incorrect");
}

function addItem(){
  const newItem = {
    name: document.getElementById("name").value,
    category: document.getElementById("category").value,
    subCategory: document.getElementById("subCategory").value,
    type: document.getElementById("type").value,
    price: document.getElementById("price").value,
    link: document.getElementById("link").value
  };
  if(!newItem.name || !newItem.category || !newItem.subCategory || !newItem.type || (newItem.type==="Payant" && !newItem.price) || (newItem.type==="Gratuit" && !newItem.link))
    return alert("Remplir tous les champs correctement !");
  items.push(newItem);
  localStorage.setItem("fivemItems", JSON.stringify(items));
  render();
}

function removeItem(i){
  if(confirm("Supprimer cet item ?")){
    items.splice(i,1);
    localStorage.setItem("fivemItems", JSON.stringify(items));
    render();
  }
}

render();
</script>
</body>
</html>
