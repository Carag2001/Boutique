<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CRG Services - FiveM</title>
<link rel="stylesheet" href="style.css">

<style>
.category-buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    margin: 30px 0;
    flex-wrap: wrap;
}

.cat-btn {
    padding: 14px 30px;
    border-radius: 30px;
    border: none;
    cursor: pointer;
    font-weight: bold;
    color: #fff;
    background: linear-gradient(135deg,#00e5ff,#0066ff);
    box-shadow: 0 0 15px rgba(0,229,255,0.6);
    transition: .3s;
}

.cat-btn:hover {
    transform: scale(1.1);
}

.items {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
}

.item-card {
    width: 260px;
    background: rgba(255,255,255,.08);
    border-radius: 18px;
    padding: 20px;
    border: 1px solid rgba(255,255,255,.4);
    backdrop-filter: blur(6px);
    box-shadow: 0 10px 25px rgba(0,0,0,.6);
    transition: .35s;
    position: relative;
}

.item-card:hover {
    transform: translateY(-8px) scale(1.05);
}

.item-card h3 { margin-bottom: 5px; }
.item-card span { color:#00e5ff; font-weight:bold; }

.download-btn {
    display: inline-block;
    margin-top: 10px;
    padding: 8px 15px;
    background:#00e5ff;
    color:#000;
    font-weight:bold;
    border-radius:20px;
    text-decoration:none;
}

.delete-btn {
    display:none;
    position:absolute;
    top:10px;
    right:10px;
    background:#ff3b3b;
    border:none;
    color:#fff;
    padding:5px 8px;
    border-radius:6px;
    cursor:pointer;
}

.admin-btn {
    margin: 35px auto;
    display:block;
    padding: 12px 30px;
    border-radius: 30px;
    border:none;
    background:#00e5ff;
    font-weight:bold;
    cursor:pointer;
}

.admin-form {
    display:none;
    max-width: 340px;
    margin: auto;
    background: rgba(0,0,0,.6);
    padding: 20px;
    border-radius: 15px;
}

.admin-form input,
.admin-form select {
    width:100%;
    margin-bottom:10px;
    padding:8px;
    border-radius:6px;
    border:none;
}
</style>
</head>

<body>

<nav class="navbar">
<ul>
<li><a href="index.html">Accueil</a></li>
<li><a href="presentation.html">Présentation</a></li>
<li><a href="fivem.html" class="active">FiveM</a></li>
<li><a href="contact.html">Contact</a></li>
<li><a href="apropos.html">À propos</a></li>
</ul>
</nav>

<section class="main-content">

<h1>FiveM</h1>
<p>Scripts • Mappings • Véhicules</p>

<div class="category-buttons">
    <button class="cat-btn" onclick="filterType('Script')">Scripts</button>
    <button class="cat-btn" onclick="filterType('Mapping')">Mappings</button>
    <button class="cat-btn" onclick="filterType('Véhicule')">Véhicules</button>
</div>

<div class="items" id="items"></div>

<button class="admin-btn" onclick="askPassword()">Ajouter une ressource</button>

<div class="admin-form" id="adminForm">
    <input id="name" placeholder="Nom">
    <input id="desc" placeholder="Description">

    <select id="type">
        <option>Script</option>
        <option>Mapping</option>
        <option>Véhicule</option>
    </select>

    <select id="category">
        <option>Police</option>
        <option>Urgence</option>
        <option>Gouvernement</option>
        <option>Civil</option>
        <option>Criminel</option>
    </select>

    <select id="priceType" onchange="toggleLink()">
        <option value="Gratuit">Gratuit</option>
        <option value="Payant">Payant</option>
    </select>

    <input id="price" placeholder="Prix (si payant)">
    <input id="link" placeholder="Lien de téléchargement">

    <button onclick="addItem()">Ajouter</button>
</div>

</section>

<script>
const PASSWORD = "Maholo_56100";
let isAdmin=false;
let items=JSON.parse(localStorage.getItem("fivemItems"))||[];
let filter="";

function render(){
    const c=document.getElementById("items");
    c.innerHTML="";
    items.filter(i=>!filter||i.type===filter).forEach((i,idx)=>{
        const d=document.createElement("div");
        d.className="item-card";
        d.innerHTML=`
        <button class="delete-btn" onclick="del(${idx})">✖</button>
        <h3>${i.name}</h3>
        <p>${i.desc}</p>
        <p>${i.type} • ${i.category}</p>
        <span>${i.priceType==="Gratuit"?"Gratuit":i.price+" €"}</span>
        ${i.priceType==="Gratuit"?`<a class="download-btn" href="${i.link}" target="_blank">Télécharger</a>`:""}
        `;
        if(isAdmin)d.querySelector(".delete-btn").style.display="block";
        c.appendChild(d);
    });
}

function filterType(t){ filter=t; render(); }

function askPassword(){
    if(prompt("Mot de passe admin :")===PASSWORD){
        isAdmin=true;
        document.getElementById("adminForm").style.display="block";
        render();
    }
}

function toggleLink(){
    const pt=document.getElementById("priceType").value;
    document.getElementById("price").style.display=pt==="Payant"?"block":"none";
    document.getElementById("link").style.display=pt==="Gratuit"?"block":"none";
}

function addItem(){
    const i={
        name:name.value,
        desc:desc.value,
        type:type.value,
        category:category.value,
        priceType:priceType.value,
        price:price.value,
        link:link.value
    };
    if(!i.name||!i.desc)return alert("Champs manquants");
    items.push(i);
    localStorage.setItem("fivemItems",JSON.stringify(items));
    render();
}
function del(i){
    if(confirm("Supprimer ?")){
        items.splice(i,1);
        localStorage.setItem("fivemItems",JSON.stringify(items));
        render();
    }
}
render();
</script>

</body>
</html>
