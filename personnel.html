<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CRG Services - Équipe</title>
<link rel="stylesheet" href="style.css">

<style>
/* ================= GRILLE MEMBRES ================= */
.members {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
    margin-top: 40px;
}

.member-card {
    width: 260px;
    background: rgba(255,255,255,0.08);
    border-radius: 18px;
    padding: 20px;
    border: 1px solid rgba(255,255,255,0.35);
    backdrop-filter: blur(8px);
    box-shadow: 0 12px 28px rgba(0,0,0,0.6);
    text-align: center;
    transition: 0.35s;
    position: relative;
}

.member-card:hover {
    transform: translateY(-8px) scale(1.05);
    box-shadow: 0 0 30px rgba(0,229,255,0.6);
}

.member-card img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    border-radius: 50%;
    margin-bottom: 15px;
    border: 2px solid #00e5ff;
}

.member-card h3 {
    margin-bottom: 5px;
    font-size: 1.3rem;
}

.member-card p {
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 8px;
}

.delete-btn {
    display: none;
    position: absolute;
    top: 10px;
    right: 10px;
    background:#ff3b3b;
    border:none;
    color:#fff;
    padding:5px 8px;
    border-radius:6px;
    cursor:pointer;
}

/* ================= FORMULAIRE ADMIN ================= */
.admin-btn {
    margin: 35px auto;
    display:block;
    padding: 12px 30px;
    border-radius: 30px;
    border:none;
    background: #00e5ff;
    font-weight:bold;
    cursor:pointer;
}

.admin-form {
    display: none;
    max-width: 400px;
    margin: 30px auto;
    background: rgba(0,0,0,0.6);
    padding: 20px;
    border-radius: 15px;
}

.admin-form input, .admin-form select, .admin-form textarea {
    width: 100%;
    margin-bottom: 10px;
    padding: 8px;
    border-radius: 6px;
    border: none;
}

.admin-form button {
    width: 100%;
    padding: 10px;
    border-radius: 20px;
    border:none;
    background: #00e5ff;
    font-weight: bold;
    cursor:pointer;
}

.admin-form button:hover {
    background: #00bcd4;
}

/* ================= RESPONSIVE ================= */
@media(max-width:768px){
    .member-card{width:85%;}
}
</style>
</head>

<body>
<nav class="navbar">
<ul>
<li><a href="index.html">Accueil</a></li>
<li><a href="presentation.html">Présentation</a></li>
<li><a href="fivem.html">FiveM</a></li>
<li><a href="personnel.html" class="active">Équipe</a></li>
<li><a href="contact.html">Contact</a></li>
<li><a href="apropos.html">À propos</a></li>
</ul>
</nav>

<section class="main-content">
<h1>Équipe CRG Services</h1>
<p>Découvrez tous les membres de notre équipe et leurs rôles.</p>

<div class="members" id="members"></div>

<button class="admin-btn" onclick="askPassword()">Ajouter un membre</button>

<div class="admin-form" id="adminForm">
<input id="mName" placeholder="Nom complet ou pseudo">
<input id="mRole" placeholder="Rôle / Profession">
<textarea id="mDesc" placeholder="Description / bio"></textarea>
<input id="mImg" placeholder="URL de l'image">
<input id="mEmail" placeholder="Email (optionnel)">
<select id="mLevel">
    <option>Équipe</option>
    <option>Admin</option>
    <option>Fondateur</option>
</select>
<button onclick="addMember()">Ajouter le membre</button>
</div>
</section>

<script>
const PASSWORD = "Maholo_56100";
let isAdmin = false;
let members = JSON.parse(localStorage.getItem("members")) || [];

function renderMembers() {
    const container = document.getElementById("members");
    container.innerHTML = "";
    members.forEach((m,i) => {
        const card = document.createElement("div");
        card.className = "member-card";
        card.innerHTML = `
        <button class="delete-btn" onclick="deleteMember(${i})">✖</button>
        <img src="${m.img || 'https://via.placeholder.com/100'}">
        <h3>${m.name}</h3>
        <p><strong>Rôle :</strong> ${m.role}</p>
        <p>${m.desc}</p>
        ${m.email?`<p><strong>Email :</strong> ${m.email}</p>`:""}
        <p><strong>Niveau :</strong> ${m.level}</p>
        `;
        if(isAdmin) card.querySelector(".delete-btn").style.display="block";
        container.appendChild(card);
    });
}

function askPassword() {
    const pass = prompt("Mot de passe admin :");
    if(pass === PASSWORD){
        isAdmin = true;
        document.getElementById("adminForm").style.display="block";
        renderMembers();
    } else alert("Mot de passe incorrect");
}

function addMember() {
    const m = {
        name: document.getElementById("mName").value,
        role: document.getElementById("mRole").value,
        desc: document.getElementById("mDesc").value,
        img: document.getElementById("mImg").value,
        email: document.getElementById("mEmail").value,
        level: document.getElementById("mLevel").value
    };
    if(!m.name || !m.role || !m.desc) return alert("Veuillez remplir tous les champs obligatoires");
    members.push(m);
    localStorage.setItem("members", JSON.stringify(members));
    renderMembers();
}

function deleteMember(i){
    if(confirm("Supprimer ce membre ?")){
        members.splice(i,1);
        localStorage.setItem("members", JSON.stringify(members));
        renderMembers();
    }
}

// Initial render
renderMembers();
</script>
</body>
</html>
